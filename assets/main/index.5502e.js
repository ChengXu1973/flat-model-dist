System.register("chunks:///_virtual/flat-model.ts",["./rollupPluginModLoBabelHelpers.js","cc","./macro.ts"],(function(e){var t,r,i,n,o,l,a,s,c,u,d,p,h,m,f,z,S,y,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.createClass,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,s=e.SpriteRenderer,c=e.Node,u=e.RenderTexture,d=e.CCFloat,p=e.Size,h=e.SpriteFrame,m=e.rect,f=e.size,z=e.Component},function(e){S=e.WIDTH,y=e.HEIGHT,b=e.OUTLINE}],execute:function(){var g,w,v,F,_,C,R,x,T,D,H,I;l._RF.push({},"4159aQJ8R9Geqs06ApUAKj1","flat-model",void 0);var L=a.ccclass,A=a.property,M=a.requireComponent;e("FlatModel",(g=L("FlatModel"),w=M(s),v=A(c),F=A(u),_=A(d),C=A(p),g(R=w((T=t((x=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,n(t,"model",T,o(t)),n(t,"rt",D,o(t)),n(t,"renderScale",H,o(t)),n(t,"modelSize",I,o(t)),t._size=f(),t}r(t,e);var l=t.prototype;return l.onLoad=function(){this.model.setScale(this.renderScale,this.renderScale,this.renderScale)},l.setRect=function(e){this.model.setPosition(-S/2+e.x+e.width/2,-y/2+e.y,0);var t=new h;t.reset({texture:this.rt,rect:m(e.x,y-e.y-e.height+b,e.width,e.height+2*b)}),this.getComponent(s).spriteFrame=t},i(t,[{key:"size",get:function(){return this._size.set(this.modelSize.width*this.renderScale,this.modelSize.height*this.renderScale),this._size}}]),t}(z)).prototype,"model",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(x.prototype,"rt",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(x.prototype,"renderScale",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),I=t(x.prototype,"modelSize",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f(2,2)}}),R=x))||R)||R));l._RF.pop()}}}));

System.register("chunks:///_virtual/game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./maxrects-packer.mjs","./flat-model.ts","./macro.ts"],(function(e){var t,o,i,r,a,l,n,c,d,s,u,p,m,f,h,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,n=e.Prefab,c=e.Node,d=e.Camera,s=e.instantiate,u=e.Component},function(e){p=e.MaxRectsBin},function(e){m=e.FlatModel},function(e){f=e.WIDTH,h=e.HEIGHT,b=e.PADDING}],execute:function(){var R,g,v,y,z,w,C,D,k,I,P;a._RF.push({},"4d173O6iSFPXb7ILz1x3ivb","game",void 0);var x=l.ccclass,F=l.property;e("Game",(R=x("Game"),g=F(n),v=F(c),y=F(c),z=F(d),R((D=t((C=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"role",D,r(t)),i(t,"defaultRoot",k,r(t)),i(t,"modelRoot",I,r(t)),i(t,"modelCamera",P,r(t)),t.packer=void 0,t}o(t,e);var a=t.prototype;return a.onLoad=function(){this.packer=new p(f,h,b,{border:b}),this.addRole()},a.addRole=function(){var e=s(this.role),t=e.getComponent(m),o=this.packer.add(t.size.width,t.size.height,void 0);o&&!o.oversized&&(this.defaultRoot.addChild(e),this.modelRoot.addChild(t.model),t.setRect(o),this.addRole())},t}(u)).prototype,"role",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(C.prototype,"defaultRoot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(C.prototype,"modelRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(C.prototype,"modelCamera",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=C))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/macro.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"ee3deAIWP1GypT6+FOEFX0Y","macro",void 0);e("WIDTH",2048),e("HEIGHT",2048),e("PADDING",10),e("OUTLINE",2);c._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./flat-model.ts","./game.ts","./macro.ts","./wander.ts"],(function(){return{setters:[null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/wander.ts",["./rollupPluginModLoBabelHelpers.js","cc","./flat-model.ts"],(function(e){var t,o,i,r,n,a,s,d,h,l,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,s=e.v3,d=e.Size,h=e.CCFloat,l=e.size,p=e.Component},function(e){u=e.FlatModel}],execute:function(){var c,m,f,g,y,b,v,w,z,S;n._RF.push({},"fae7dIk4qhJK7jWqxhjnVgN","wander",void 0);var M=a.ccclass,C=a.property,F=a.requireComponent,x=s(),P=s();e("Wander",(c=M("Wander"),m=F(u),f=C(d),g=C(h),y=C(h),c(b=m((w=t((v=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,i(t,"range",w,r(t)),i(t,"speed",z,r(t)),i(t,"rotateSpeed",S,r(t)),t.model=void 0,t.rotateY=0,t.rotateSign=1,t}o(t,e);var n=t.prototype;return n.onLoad=function(){this.model=this.node.getComponent(u).model,x.x=(Math.random()-.5)*this.range.width,x.y=this.node.getComponent(u).modelSize.height/2,x.z=(Math.random()-.5)*this.range.height,this.node.setPosition(x),P.set(0,360*Math.random(),0),this.model.setRotationFromEuler(P)},n.update=function(e){if(x.set(this.node.position),x.add3f(-this.model.forward.x*e*this.speed,-this.model.forward.y*e*this.speed,-this.model.forward.z*e*this.speed),P.set(this.model.eulerAngles),Math.abs(this.rotateY)>=this.rotateSpeed){var t=this.rotateSign*this.rotateSpeed;return P.y+=t,this.model.setRotationFromEuler(P),void(this.rotateY-=this.rotateSpeed)}if(Math.abs(x.x)>=this.range.width/2||Math.abs(x.z)>=this.range.height/2)return this.rotateY=~~(360*Math.random()),void(this.rotateSign=Math.random()>.5?1:-1);this.node.setPosition(x)},t}(p)).prototype,"range",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l()}}),z=t(v.prototype,"speed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.8}}),S=t(v.prototype,"rotateSpeed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),b=v))||b)||b));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});